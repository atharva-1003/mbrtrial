<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Fixed viewport syntax (was width-device-width) -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Login application"
    />
    <title>Login App</title>
  </head>
  <body>
    <div id="root">
      <form action="/login" method="post">
        <button type="submit">Login</button>
      </form>
    </div>

    <script>
      // Improve reliability of the login button behavior:
      // - Ensure we don't try to bind to a missing element
      // - Provide a JS fallback that redirects to the login route when clicked
      //   (useful for static setups or SPAs where server-side form submit may not work)
      (function() {
        var form = document.querySelector('form[action="/login"]');
        if (!form) return;

        var button = form.querySelector('button[type="submit"]');
        if (!button) return;

        // Use submit handler on the form to catch submit triggered by keyboard as well
        form.addEventListener('submit', function (event) {
          // If the app has a backend route at /login, allow normal form submission.
          // Otherwise, prevent default and perform a client-side redirect to /login.
          // This makes the button responsive even in static-hosted environments.
          var action = form.getAttribute('action') || '/login';

          // Try to detect if the page is served from file: or if the action is not reachable
          // We'll prevent default and redirect so users see the login page/route.
          event.preventDefault();
          window.location.href = action;
        });

        // Optional: a click handler just for logging/debugging (kept minimal)
        button.addEventListener('click', function () {
          // Helpful while debugging in the browser console
          console.log('Login button clicked');
        });
      })();
    </script>

    <noscript>
      This application requires JavaScript to redirect to the login page. If you do not have JavaScript
      enabled, please navigate to /login manually.
    </noscript>
  </body>
</html>
